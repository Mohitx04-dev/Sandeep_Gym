(this.webpackJsonpsandeep_gym=this.webpackJsonpsandeep_gym||[]).push([[0],{106:function(e,t,a){e.exports={profilePicWrapper:"styles_profilePicWrapper__3uKZC",picHolder:"styles_picHolder__1OYhQ",pic:"styles_pic__2GQ3g",uploadFileBlock:"styles_uploadFileBlock__3C6z9",uploadLoader:"styles_uploadLoader__2GdZ0",uploadInProgress:"styles_uploadInProgress__1Q2-Q",snackbar:"styles_snackbar__1bu_b",show:"styles_show__3JpZB",fadein:"styles_fadein__3D2XL",fadeout:"styles_fadeout__2IdBH",newProfilePhoto:"styles_newProfilePhoto__3BrEf"}},126:function(e,t,a){e.exports={profilePicWrapper:"styles_profilePicWrapper__1g8E7",picHolder:"styles_picHolder__2TLJ3",pic:"styles_pic__2Eyke",uploadFileBlock:"styles_uploadFileBlock__2Ij3r",uploadLoader:"styles_uploadLoader__2mvPD",uploadInProgress:"styles_uploadInProgress__nGdYO",snackbar:"styles_snackbar__2y312",show:"styles_show__2AJzL",fadein:"styles_fadein__1BBaQ",fadeout:"styles_fadeout__XyNFA",newProfilePhoto:"styles_newProfilePhoto__1BCXk"}},211:function(e,t,a){},212:function(e,t,a){},213:function(e,t,a){},249:function(e,t){},364:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),r=a(23),s=a.n(r),l=(a(211),a.p,a(212),a(30)),i=a(4),o=a(376),j=a(369),d=a(377),b=a(373),u=a(52),h=a.n(u),O=(a(213),a.p+"static/media/Logo.4d389505.png"),m=a(9),x=a.n(m),p=a(0);var f=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),a=t[0],n=t[1],r=localStorage.getItem("User");if(r=JSON.parse(r)){var s={"Content-Type":"application/json",Authorization:r.token},l=r.role;x.a.get("/api/"+l+"-protectd",{headers:s}).then((function(e){200==e.status?n(l):n(!1)})).catch((function(e){console.log(e)}))}return Object(p.jsx)(o.a,{bg:"dark",expand:"lg",children:Object(p.jsxs)(j.a,{children:[Object(p.jsx)(o.a.Brand,{href:"/",className:h.a.Text,children:Object(p.jsx)("img",{src:O,width:"80px"})}),Object(p.jsx)(o.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(p.jsx)(o.a.Collapse,{id:"basic-navbar-nav",children:Object(p.jsxs)(d.a,{className:"ml-auto",children:[Object(p.jsx)(d.a.Link,{href:"/",className:h.a.Text,children:"Home"}),Object(p.jsxs)(b.a,{title:"Branches",id:h.a.Drop,children:[Object(p.jsx)(b.a.Item,{href:"/branches/show",children:"Show"}),Object(p.jsx)(b.a.Item,{href:"/branches/add",children:"Add"})]}),Object(p.jsxs)(b.a,{title:"Staff",id:h.a.Drop,children:[Object(p.jsx)(b.a.Item,{href:"/staff/view",children:"View"}),Object(p.jsx)(b.a.Item,{href:"/staff/add",children:"Add"})]}),Object(p.jsxs)(b.a,{title:"Members",id:h.a.Drop,children:[Object(p.jsx)(b.a.Item,{href:"/member/view",children:"View"}),Object(p.jsx)(b.a.Item,{href:"/member/add",children:"Add"}),Object(p.jsx)(b.a.Item,{href:"/member/reports",children:"View Reports"})]}),Object(p.jsxs)(b.a,{title:"PT",id:h.a.Drop,children:[Object(p.jsx)(b.a.Item,{href:"/PT/view",children:"View"}),Object(p.jsx)(b.a.Item,{href:"/PT/add",children:"Add"})]}),Object(p.jsxs)(b.a,{title:"User",id:h.a.Drop,children:[0!=a?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(b.a.Item,{href:"#",children:["Current User : ",r.name]}),Object(p.jsx)(b.a.Item,{onClick:function(e){window.localStorage.removeItem("User"),window.location.href="/"},children:"Logout"})," "]}):Object(p.jsx)(b.a.Item,{href:"/login",children:"Login"}),Object(p.jsx)(b.a.Item,{href:"/register",children:"SignUp"})]}),a?Object(p.jsxs)(d.a.Link,{id:h.a.Drop,href:"#",children:["Role : ",a]}):null]})})]})})};var v=function(){return Object(p.jsx)("footer",{className:"text-center text-lg-start bg-light text-muted",children:Object(p.jsxs)("div",{className:"text-center p-4",children:["\xa9 2021 Copyright:",Object(p.jsx)("a",{className:"text-reset fw-bold",href:"#",children:"Mohit Chourasia"})]})})},g=a(17),y=(a(236),a(15)),D=a.n(y),w=a(27),N=a(375),C=a(206),T=a(18);var S=a(374),_=a(101);var P=function(e){return Object(p.jsxs)(S.a,Object(T.a)(Object(T.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(p.jsxs)(S.a.Header,{children:[Object(p.jsx)(_.a,{onClick:e.onClose}),Object(p.jsx)(S.a.Title,{id:"contained-modal-title-vcenter",children:Object(p.jsx)("deleteIcon",{})})]}),Object(p.jsxs)(S.a.Body,{children:[Object(p.jsx)("h4",{class:"modal-title w-100",children:"Success"}),Object(p.jsx)("p",{children:"Action was successful."})]}),Object(p.jsx)(S.a.Footer,{children:Object(p.jsx)(C.a,{className:"btn-danger",onClick:e.redirect,children:"Ok."})})]}))};var E=function(e){return Object(p.jsxs)(S.a,Object(T.a)(Object(T.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(p.jsxs)(S.a.Header,{children:[Object(p.jsx)(_.a,{onClick:e.onClose}),Object(p.jsx)(S.a.Title,{id:"contained-modal-title-vcenter",children:Object(p.jsx)("deleteIcon",{})})]}),Object(p.jsxs)(S.a.Body,{children:[Object(p.jsx)("img",{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMC8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMtU1ZHLTIwMDEwOTA0L0RURC9zdmcxMC5kdGQnPjxzdmcgaGVpZ2h0PSIzMiIgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7ZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAzMiAzMiIgdmlld0JveD0iMCAwIDMyIDMyIiB3aWR0aD0iMzIiIHhtbDpzcGFjZT0icHJlc2VydmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxnPjxnIGlkPSJFcnJvcl8xXyI+PGcgaWQ9IkVycm9yIj48Y2lyY2xlIGN4PSIxNiIgY3k9IjE2IiBpZD0iQkciIHI9IjE2IiBzdHlsZT0iZmlsbDojRDcyODI4OyIvPjxwYXRoIGQ9Ik0xNC41LDI1aDN2LTNoLTNWMjV6IE0xNC41LDZ2MTNoM1Y2SDE0LjV6IiBpZD0iRXhjbGFtYXRvcnlfeDVGX1NpZ24iIHN0eWxlPSJmaWxsOiNFNkU2RTY7Ii8+PC9nPjwvZz48L2c+PC9zdmc+"}),Object(p.jsx)("h4",{class:"modal-title w-100",children:"Error"}),Object(p.jsx)("p",{children:"Permission Not Granted."})]}),Object(p.jsx)(S.a.Footer,{children:Object(p.jsx)(C.a,{className:"btn-danger",onClick:e.redirect,children:"Ok."})})]}))};function I(e){var t=Object(c.useState)(0),a=Object(i.a)(t,2),n=(a[0],a[1],Object(c.useState)(!1)),r=Object(i.a)(n,2),s=r[0],l=r[1],o=Object(c.useState)(!1),j=Object(i.a)(o,2),d=j[0],b=j[1],u={"Content-Type":"application/json",Authorization:e.User.token,branch:"user"==e.User.role?e.User.branch:null},h=function(){var e=Object(w.a)(D.a.mark((function e(t){var a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={Name:t.target[0].value,Payments:[],Total:0},e.next=4,x.a.post("/api/branch",a,{headers:u}).then(Object(w.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(!0);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).catch((function(e){b(!0)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return console.log(s),Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(N.a,{onSubmit:h,children:[Object(p.jsxs)(N.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(p.jsx)(N.a.Label,{children:"Name of New Branch"}),Object(p.jsx)(N.a.Control,{type:"text",placeholder:"Enter Name "})]}),Object(p.jsx)(P,{show:s,redirect:function(){return window.location.href="/Branches/show"},onClose:function(){l(!1)}}),Object(p.jsx)(E,{show:d,redirect:function(){return b(!1)},onClose:function(){b(!1)}}),Object(p.jsx)(C.a,{variant:"primary",type:"submit",children:"Submit"})]})})}var M=a(22),U=a(371),B=a(370);var k=function(){return Object(p.jsx)(B.a,{variant:"danger",children:"Restricted Access"})};var A=function(e){return Object(p.jsxs)(S.a,Object(T.a)(Object(T.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(p.jsxs)(S.a.Header,{children:[Object(p.jsx)(_.a,{onClick:e.onClose}),Object(p.jsx)(S.a.Title,{id:"contained-modal-title-vcenter",children:Object(p.jsx)("deleteIcon",{})})]}),Object(p.jsxs)(S.a.Body,{children:[Object(p.jsx)("h4",{class:"modal-title w-100",children:"Are you sure?"}),Object(p.jsx)("p",{children:"Do you really want to delete these records? This process cannot be undone."})]}),Object(p.jsx)(S.a.Footer,{children:Object(p.jsx)(C.a,{className:"btn-danger",onClick:e.reqDelete,children:"Delete"})})]}))};function F(e){var t=Object(c.useState)([]),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(!1),l=Object(i.a)(s,2),o=l[0],j=l[1],d=Object(c.useState)(!1),b=Object(i.a)(d,2),u=b[0],h=b[1],O=Object(c.useState)(!1),m=Object(i.a)(O,2),f=m[0],v=m[1],g=Object(c.useState)(""),y=Object(i.a)(g,2),D=y[0],w=y[1],N=Object(c.useState)(!1),T=Object(i.a)(N,2),S=(T[0],T[1],{"Content-Type":"application/json",Authorization:e.User.token,branch:e.User.branch});function _(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.mem.Name}),Object(p.jsxs)("td",{children:[" ",Object(p.jsx)(C.a,{variant:"danger",onClick:function(){v(!0),w(e.mem.Name)},children:"Delete"})]})]})}return Object(c.useEffect)((function(){x.a.get("/api/branch",{headers:S}).then((function(e){for(var t=0;t<e.data.length;t++)r((function(a){return[].concat(Object(M.a)(a),[e.data[t]])}))}))}),[]),n?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(U.a,{striped:!0,bordered:!0,hover:!0,children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Delete"})]})}),Object(p.jsx)("tbody",{children:n.map((function(e){return Object(p.jsx)(_,{mem:e})}))})]}),Object(p.jsx)(A,{show:f,reqDelete:function(){x.a.delete("/api/branch/"+D,{headers:S}).then((function(){h(!0)})).catch((function(e){j(!0),console.log(e)}))},onClose:function(){v(!1)}}),Object(p.jsx)(E,{show:o,redirect:function(){window.location.href="/branches/show"},onClose:function(){j(!1)}}),Object(p.jsx)(P,{show:u,redirect:function(){window.location.href="/branches/show"},onClose:function(){h(!1)}})]}):Object(p.jsx)(k,{})}function L(e){var t=("0"+(e=new Date(e)).getDate()).slice(-2),a=("0"+(e.getMonth()+1)).slice(-2),c=e.getFullYear(),n=e.getHours(),r=e.getMinutes(),s=e.getSeconds();return console.log(n,r,s),c+"-"+a+"-"+t+"T"+n+":"+r+":"+(0===s?"00":s)}var V=function(e){var t;function a(t){t.field;return console.log(t.Pay[t.field]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(N.a.Label,{children:t.Name}),Object(p.jsx)(N.a.Control,{type:t.Type,defaultValue:e.Member&&"datetime-local"==t.Type?L(t.Pay[t.field]):e.Member?t.Pay[t.field]:t.isDue?t.isDue:"Comments"==t.field&&e.Comment?e.Comment.substr(18,24):null,placeholder:t.placeholder,disabled:0==e.Editable||!!t.isDue&&t.isDue})]})}return t=e.Member&&e.First?e.Member.Payment[0]:e.Member&&e.txn?e.txn:"Due",console.log(e.Member),console.log(t),t?Object(p.jsxs)("div",{children:[Object(p.jsx)(a,{Name:"Date",Type:"datetime-local",placeholder:"Enter Date",field:"Date",Pay:t}),Object(p.jsx)(a,{Name:"Total",Type:"number",placeholder:"Enter Total",field:"Total",isDue:e.Due?e.Due:null,Pay:t}),Object(p.jsx)(a,{Name:"Paid",Type:"number",placeholder:"Enter Paid Amount",field:"Paid",Pay:t}),Object(p.jsx)(a,{Name:"Due",Type:"number",placeholder:"Enter Due Amount",field:"Due",Pay:t}),Object(p.jsx)(a,{Name:"Comments",Type:"text",placeholder:"Enter Comments",field:"Comments",Pay:t}),Object(p.jsx)(a,{Name:"Payment Method",Type:"text",placeholder:"Enter Payment Method",field:"PayMethod",Pay:t}),Object(p.jsx)(a,{Name:"Date for Due Payment",Type:"datetime-local",placeholder:"Enter Date",field:"DueDate",Pay:t})]}):Object(p.jsx)(p.Fragment,{children:"Loading"})};var R=function(e){var t=Object(c.useState)([]),a=Object(i.a)(t,2),n=a[0],r=a[1],s={"Content-Type":"application/json",Authorization:e.User.token,branch:"user"==e.User.role?e.User.branch:null};return Object(c.useEffect)((function(){x.a.get("/api/branch",{headers:s}).then((function(e){for(var t=0;t<e.data.length;t++)r((function(a){return[].concat(Object(M.a)(a),[e.data[t].Name])}))}))}),[]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(N.a.Label,{className:"Font",children:"Name of Branch"}),Object(p.jsx)(N.a.Control,{as:"select",defaultValue:e.Member?e.Member.Branch:e.user?e.user.branch:null,children:n.map((function(e){return Object(p.jsx)("option",{value:e,children:e},e)}))})]})};var z=function(e){function t(t){if(e.Member){var a=t.field;a="date"==t.Type?function(e){var t=("0"+(e=new Date(e)).getDate()).slice(-2),a=("0"+(e.getMonth()+1)).slice(-2);return e.getFullYear()+"-"+a+"-"+t}(e.Member[a]):"datetime-local"==t.Type?function(e){var t=("0"+(e=new Date(e)).getDate()).slice(-2),a=("0"+(e.getMonth()+1)).slice(-2),c=e.getFullYear(),n=e.getHours(),r=e.getMinutes(),s=e.getSeconds();return console.log(s),c+"-"+a+"-"+t+"T"+n+":"+r+":"+(0===s?"00":s)}(e.Member[a]):e.Member[a]}return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(N.a.Label,{children:t.Name}),Object(p.jsx)(N.a.Control,{type:t.Type,defaultValue:e.Member?a:0==t.def?t.def:null,placeholder:t.placeholder,disabled:0==e.Editable})]})}return Object(p.jsxs)(N.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(p.jsx)("h2",{children:"Member Details"}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsxs)("div",{className:"col-md-6 col-sm-12 col-6",children:[Object(p.jsx)(t,{Name:"Member Id",Type:"string",field:"Cust_Id",placeholder:"Enter Id"}),Object(p.jsx)(t,{Name:"Member Name",Type:"string",field:"Name",placeholder:"Enter Name"})]}),Object(p.jsxs)("div",{className:"col-md-6 col-sm-12 col-6",children:[0==e.Editable?Object(p.jsx)(t,{Name:"Branch",Type:"string",field:"Branch",placeholder:"Enter Branch"}):Object(p.jsx)(R,{Editable:e.Editable,Member:e.Member,User:e.User}),Object(p.jsx)(t,{Name:"PRN",Type:"number",placeholder:"Enter PRN",field:"PRN"})]})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsxs)("div",{className:"col-md-3 col-sm-12 col-3",children:[Object(p.jsx)(t,{Name:"Age",Type:"number",placeholder:"Enter Age",field:"Age"}),Object(p.jsx)(t,{Name:"Gender",Type:"string",field:"Gender",placeholder:"Enter M or F"})]}),Object(p.jsxs)("div",{className:"col-md-3 col-sm-12 col-3",children:[Object(p.jsx)(t,{Name:"Weight",Type:"number",field:"Weight",placeholder:"Enter Weight"}),Object(p.jsx)(t,{Name:"Height",Type:"number",field:"Height",placeholder:"Enter Height"})]}),Object(p.jsxs)("div",{className:"col-md-3 col-sm-12 col-3",children:[Object(p.jsx)(t,{Name:"DOB",Type:"date",field:"DOB",placeholder:"Enter Date of Birth"}),Object(p.jsx)(t,{Name:"DOR",Type:"datetime-local",field:"DOR",placeholder:"Enter Date of Registration"})]}),Object(p.jsxs)("div",{className:"col-md-3 col-sm-12 col-3",children:[Object(p.jsx)(N.a.Label,{className:"Font",children:"Address"}),Object(p.jsx)(N.a.Control,{as:"textarea",placeholder:"Leave a comment here",style:{height:"100px"},disabled:0==e.Editable,defaultValue:e.Member?e.Member.Address:null})]})]}),Object(p.jsxs)("div",{className:"row",children:[e.Member?null:Object(p.jsxs)("div",{className:"col-6",children:[Object(p.jsx)(N.a.Label,{className:"Font",children:"Months"}),Object(p.jsx)(N.a.Control,{as:"select",children:Object(M.a)(Array(12)).map((function(e,t){return Object(p.jsx)("option",{value:t+1,children:t+1},t)}))}),Object(p.jsx)(t,{Name:"Days",Type:"number",field:"Days",placeholder:"Enter Days",def:0})]}),Object(p.jsxs)("div",{className:"col-6",children:[Object(p.jsx)(t,{Name:"Aadhar",Type:"number",field:"Aadhar",placeholder:"Enter Aadhar Number"}),Object(p.jsx)(t,{Name:"DOJ",Type:"datetime-local",field:"DOJ",placeholder:"Enter Date of Joining"})]}),Object(p.jsx)("div",{className:"col-6",children:Object(p.jsx)(t,{Name:"Contact No",Type:"number",field:"Contact_No",placeholder:"Enter Contact Number"})}),Object(p.jsx)("div",{className:"col-6",children:Object(p.jsx)(t,{Name:"Injury",Type:"text",field:"Injury",placeholder:"Enter Injury if Any"})})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsxs)("div",{className:"col-6",children:[Object(p.jsx)(t,{Name:"Occupation",Type:"text",field:"Occupation",placeholder:"Enter Occupation "}),Object(p.jsx)(t,{Name:"Reference",Type:"text",field:"Reference",placeholder:"Enter Reference if Any"})]}),Object(p.jsxs)("div",{className:"col-6",children:[Object(p.jsx)(t,{Name:"Service",Type:"text",field:"Service",placeholder:"Enter Service"}),Object(p.jsx)(t,{Name:"Workout Choice",Type:"text",field:"Workout_Choice",placeholder:"Enter Workout Choice"})]})]}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-6",children:Object(p.jsx)(t,{Name:"Counselled By",Type:"text",field:"CounselledBy",placeholder:"Enter Counselled By"})}),Object(p.jsx)("div",{className:"col-6",children:Object(p.jsx)(t,{Name:"Joined By",Type:"text",field:"JoinedBy",placeholder:"Enter Joined By"})})]}),Object(p.jsx)(N.a.Label,{className:"Font",children:"Time Slot"}),Object(p.jsxs)(N.a.Control,{as:"select",field:"Time",defaultValue:e.Member?e.Member.Time:null,disabled:0==e.Editable,children:[Object(p.jsx)("option",{value:"morning",children:"Morning"}),Object(p.jsx)("option",{value:"evening",children:"Evening"})]}),Object(p.jsx)("hr",{}),Object(p.jsx)("h2",{children:"Payment"}),Object(p.jsx)(V,{Member:e.Member,Editable:e.EditPay,First:!0})]})},J=(a(109),a(106)),G=a.n(J);var H=function(e){var t=Object(c.useState)(""),a=Object(i.a)(t,2),n=a[0],r=a[1];return Object(p.jsxs)(N.a,{onSubmit:function(t){t.preventDefault();var a=new FormData;a.append("file",n),a.append("upload_preset","SandeepGym"),a.append("cloud_name","sandeepgym"),fetch("https://api.cloudinary.com/v1_1/sandeepgym/image/upload",{method:"post",body:a}).then((function(e){return e.json()})).then((function(t){alert("Done"),e.setUrl(t.url)})).catch((function(e){console.log(e)})),console.log(a)},children:[Object(p.jsx)("div",{className:"profile-pic-wrapper",children:Object(p.jsxs)("div",{className:G.a.picHolder,children:[Object(p.jsx)("img",{id:"profilePic",className:G.a.pic,src:n?URL.createObjectURL(n):"https://source.unsplash.com/random/150x150"}),Object(p.jsx)("label",{for:"newProfilePhoto",className:G.a.uploadFileBlock,children:Object(p.jsxs)("div",{className:"text-center",children:[Object(p.jsx)("div",{className:"mb-2",children:Object(p.jsx)("i",{className:"fa fa-camera fa-2x"})}),Object(p.jsxs)("div",{className:"text-uppercase",children:["Update ",Object(p.jsx)("br",{})," Profile Photo"]})]})}),Object(p.jsx)(N.a.File,{type:"file",className:"newProfilePhoto",id:"newProfilePhoto",custom:!0,onChange:function(e){e.preventDefault(),console.log(e.target.files[0]),r(e.target.files[0]),console.log(n)}})]})}),Object(p.jsx)(C.a,{variant:"primary",type:"submit",children:"Submit"})]})};function W(e){var t=Object(c.useState)(!1),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(!1),l=Object(i.a)(s,2),o=l[0],j=l[1],d=Object(c.useState)(0),b=Object(i.a)(d,2),u=(b[0],b[1]),h=Object(c.useState)(""),O=Object(i.a)(h,2),m=O[0],f=O[1],v={"Content-Type":"application/json",Authorization:e.User.token,branch:e.User.branch};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(H,{setUrl:f}),Object(p.jsxs)(N.a,{onSubmit:function(e){e.preventDefault();var t=[],a={Date:e.target[24].value,Total:e.target[25].value,Paid:e.target[26].value,Due:e.target[27].value,Comments:e.target[28].value,PayMethod:e.target[29].value,DueDate:e.target[30].value};t.push(a);var c=e.target[11].value,n=e.target[12].value,s=new Date(e.target[14].value.valueOf());s=function(e,t){var a=e.getDate();return e.setMonth(e.getMonth()+ +t),e.getDate()!=a&&e.setDate(0),e}(s,c),console.log(s),s=function(e,t){var a=new Date(e).getTime()+864e5*(t-1);return new Date(a)}(s,n),console.log(s);var l={Cust_Id:e.target[0].value,Name:e.target[1].value,Branch:e.target[2].value,Age:e.target[4].value,PRN:e.target[3].value,Gender:e.target[5].value,Weight:e.target[6].value,Height:e.target[7].value,DOB:e.target[8].value,DOR:e.target[9].value,Address:e.target[10].value,Valid_Till:s,Aadhar:e.target[13].value,DOJ:e.target[14].value,Contact_No:e.target[15].value,Injury:e.target[16].value,Occupation:e.target[17].value,Reference:e.target[18].value,Service:e.target[19].value,Workout_Choice:e.target[20].value,Payment:t,CounselledBy:e.target[21].value,JoinedBy:e.target[22].value,Time:e.target[23].value,BranchName:e.target[2].value,PayBr:{Date:e.target[24].value,Customer_Name:e.target[1].value,Amount:e.target[26].value,Cust_Id:e.target[0].value,PayMethod:e.target[29].value,DueDate:e.target[30].value},url:m};console.log(l),x.a.post("/api/member",l,{headers:v}).then((function(e){return u(e.data.id)})).then((function(){r(!0)})).catch((function(e){j(!0)}))},children:[Object(p.jsx)(z,{User:e.User}),Object(p.jsx)(C.a,{variant:"primary",type:"submit",children:"Submit"})]}),Object(p.jsx)(P,{show:n,redirect:function(){return window.location.href="/member/view"},onClose:function(){r(!1)}}),Object(p.jsx)(E,{show:o,redirect:function(){return j(!1)},onClose:function(){j(!1)}})]})}var Z=a(20),Q=a.n(Z),Y=a(37),q=a.n(Y);function X(e){var t=Object(c.useState)([]),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)([]),o=Object(i.a)(s,2),j=(o[0],o[1],Object(c.useState)()),d=Object(i.a)(j,2),b=d[0],u=(d[1],Object(c.useState)(!1)),h=Object(i.a)(u,2),O=h[0],m=h[1],f=Object(c.useState)(!1),v=Object(i.a)(f,2),g=(v[0],v[1],Object(c.useState)("")),y=Object(i.a)(g,2),D=y[0],w=y[1],T={"Content-Type":"application/json",Authorization:e.User.token,branch:e.User.branch};return Object(c.useEffect)((function(){!function(){var e={date:Date.now()};x.a.put("/api/validateUp/",e).then((function(){console.log("Successfully Validated")})).then((function(){x.a.put("/api/validateDown/",e).then((function(){console.log("Done")})),x.a.get("/api/member/",{headers:T}).then((function(e){for(var t=0;t<e.data.length;t++)r((function(a){return[].concat(Object(M.a)(a),[e.data[t]])}))}))}))}()}),[]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(N.a,{onSubmit:function(e){e.preventDefault(),console.log(e.target[0].value);var t=n.filter((function(t){return q()(t.Valid_Till,"isoDate")<=e.target[0].value}));r(t)},children:[Object(p.jsx)(N.a.Label,{children:"Enter Date"}),Object(p.jsx)(N.a.Control,{type:"date",placholder:"Enter Date of Txn"}),Object(p.jsx)(C.a,{className:"p-2 my-2",variant:"primary",type:"submit",children:"Filter"})]}),Object(p.jsxs)(N.a,{onSubmit:function(e){e.preventDefault(),console.log(e.target[0].value);var t=n.filter((function(t){return t.Name.match(e.target[0].value)}));r(t)},children:[Object(p.jsx)(N.a.Label,{children:"Enter Name"}),Object(p.jsx)(N.a.Control,{type:"text",placholder:"Enter Name"}),Object(p.jsx)(C.a,{className:"p-2 my-2",variant:"primary",type:"submit",children:"Filter"})]}),Object(p.jsxs)(N.a,{onSubmit:function(e){e.preventDefault(),console.log(e.target[0].value);var t=n.filter((function(t){return t.Contact_No?String(t.Contact_No).match(e.target[0].value):null}));r(t)},children:[Object(p.jsx)(N.a.Label,{children:"Enter Phone Id"}),Object(p.jsx)(N.a.Control,{type:"number",placholder:"Enter Name"}),Object(p.jsx)(C.a,{className:"p-2 my-2",variant:"primary",type:"submit",children:"Filter"})]}),Object(p.jsxs)(U.a,{striped:!0,bordered:!0,hover:!0,children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Id"}),Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"DOJ"}),Object(p.jsx)("th",{children:"Branch"}),Object(p.jsx)("th",{children:"Valid Till"}),Object(p.jsx)("th",{children:"Extend Validity"}),Object(p.jsx)("th",{children:"View"}),Object(p.jsx)("th",{children:"Update"}),Object(p.jsx)("th",{children:"Delete"})]})}),Object(p.jsxs)("tbody",{children:[n.map((function(e){if((t=e).Branch==b&&t||null==b)return console.log(e.Contact_No),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.Cust_Id}),Object(p.jsx)("td",{children:e.Name}),Object(p.jsx)("td",{children:Object(p.jsx)(Q.a,{date:e.DOJ})}),Object(p.jsx)("td",{children:e.Branch}),Object(p.jsxs)("td",{children:[e.Active?Object(p.jsx)(Q.a,{date:e.Valid_Till}):Object(p.jsxs)("p",{className:"text-danger font-weight-bold",children:["Expired on ",Object(p.jsx)(Q.a,{date:e.Valid_Till})]})," "]}),Object(p.jsx)("td",{children:Object(p.jsx)(l.b,{to:"/member/extend/"+e.Cust_Id+"/"+(e.Active?"":"Renew"),className:" btn "+(e.Active?" btn-success ":" btn-danger "),children:e.Active?"Extend":"Renew"})}),Object(p.jsx)("td",{children:Object(p.jsx)(l.b,{to:"/member/"+e.Cust_Id,className:"btn btn-primary",children:"View"})}),Object(p.jsx)("td",{children:Object(p.jsx)(l.b,{to:"/member/update/"+e.Cust_Id,className:"btn btn-info",children:"Update"})}),Object(p.jsx)("td",{children:Object(p.jsx)(C.a,{variant:"danger",onClick:function(){m(!0),w(e.Cust_Id)},children:"Delete"})})]},e.Cust_Id);var t})),Object(p.jsx)(A,{show:O,reqDelete:function(){x.a.delete("/api/member/"+D,{headers:T}).then((function(){alert("Deleted Member"),window.location.href="/member/view"})).catch((function(e){console.log(e)}))},onClose:function(){m(!1)}})]})]})]})}function K(e){var t={"Content-Type":"application/json",Authorization:e.User.token,branch:e.User.branch},a=Object(c.useState)(0),n=Object(i.a)(a,2),r=(n[0],n[1]),s=Object(c.useState)(!1),l=Object(i.a)(s,2),o=l[0],j=l[1],d=Object(c.useState)(!1),b=Object(i.a)(d,2),u=b[0],h=b[1];return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(N.a,{onSubmit:function(e){e.preventDefault();var a={Name:e.target[0].value,Branch:e.target[1].value,Salary:e.target[2].value,DOJ:e.target[3].value,Aadhar_No:e.target[4].value,DOB:e.target[5].value};x.a.post("/api/staff",a,{headers:t}).then((function(e){return r(e.data.id)})).then((function(){h(!0)})).catch((function(e){j(!0)})),console.log(a)},children:[Object(p.jsxs)(N.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(p.jsx)(N.a.Label,{children:"Name of Employee"}),Object(p.jsx)(N.a.Control,{type:"text",placeholder:"Enter Name "}),Object(p.jsx)(R,{User:e.User}),Object(p.jsx)(N.a.Label,{children:"Salary"}),Object(p.jsx)(N.a.Control,{type:"number",placeholder:"Enter Salary "}),Object(p.jsx)(N.a.Label,{children:"Date of Joining"}),Object(p.jsx)(N.a.Control,{type:"date",placeholder:"Enter DOJ "}),Object(p.jsx)(N.a.Label,{children:"Aadhar"}),Object(p.jsx)(N.a.Control,{type:"number",placeholder:"Enter Aadhar "}),Object(p.jsx)(N.a.Label,{children:"DOB"}),Object(p.jsx)(N.a.Control,{type:"date",placeholder:"Enter DOB "})]}),Object(p.jsx)(C.a,{variant:"primary",type:"submit",children:"Submit"})]}),Object(p.jsx)(E,{show:o,redirect:function(){window.location.href="/staff/view"},onClose:function(){j(!1)}}),Object(p.jsx)(P,{show:u,redirect:function(){return window.location.href="/staff/view"},onClose:function(){h(!1)}})]})}function $(e){var t=Object(c.useState)(!1),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(!1),l=Object(i.a)(s,2),o=l[0],j=l[1],d=Object(c.useState)(!1),b=Object(i.a)(d,2),u=b[0],h=b[1],O=Object(c.useState)(""),m=Object(i.a)(O,2),f=m[0],v=m[1],g=Object(c.useState)(""),y=Object(i.a)(g,2),D=y[0],w=y[1];console.log(e);var N={"Content-Type":"application/json",Authorization:e.User.token,branch:e.User.branch},T=Object(c.useState)([]),S=Object(i.a)(T,2),_=S[0],I=S[1];console.log(_),Object(c.useEffect)((function(){x.a.get("/api/staff",{headers:N}).then((function(e){for(var t=0;t<e.data.length;t++)I((function(a){return[].concat(Object(M.a)(a),[e.data[t]])}))})).catch((function(e){w("Error")}))}),[]);var B=function(){x.a.delete("/api/staff/"+f,{headers:N}).then((function(e){console.log(e.data),j(!0)})).catch((function(e){console.log(e),r(!0)}))};return"Error"!=D?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(U.a,{striped:!0,bordered:!0,hover:!0,children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Branch"}),Object(p.jsx)("th",{children:"Salary"}),Object(p.jsx)("th",{children:"DOJ"}),Object(p.jsx)("th",{children:"Aadhar"}),Object(p.jsx)("th",{children:"DOB"}),Object(p.jsx)("th",{children:"Delete"})]})}),Object(p.jsx)("tbody",{children:_.map((function(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.Name}),Object(p.jsx)("td",{children:e.Branch}),Object(p.jsx)("td",{children:e.Salary}),Object(p.jsx)("td",{children:Object(p.jsx)(Q.a,{date:e.DOJ})}),Object(p.jsx)("td",{children:e.Aadhar_No}),Object(p.jsx)("td",{children:Object(p.jsx)(Q.a,{date:e.DOB})}),Object(p.jsx)("td",{children:Object(p.jsx)(C.a,{variant:"danger",onClick:function(){h(!0),v(e._id)},children:"Delete"})}),Object(p.jsx)(A,{show:u,reqDelete:B,onClose:function(){h(!1)}})]})}))})]}),Object(p.jsx)(E,{show:n,redirect:function(){window.location.href="/staff/view"},onClose:function(){r(!1)}}),Object(p.jsx)(P,{show:o,redirect:function(){window.location.href="/staff/view"},onClose:function(){j(!1)}})]}):Object(p.jsx)(k,{})}var ee=a(126),te=a.n(ee);var ae=function(e){return Object(p.jsxs)(U.a,{striped:!0,bordered:!0,hover:!0,children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Txn Id"}),Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Date"}),Object(p.jsx)("th",{children:"Total"}),Object(p.jsx)("th",{children:"Paid"}),Object(p.jsx)("th",{children:"Due"}),Object(p.jsx)("th",{children:"Pay Due"}),Object(p.jsx)("th",{children:"Comments"}),Object(p.jsx)("th",{children:"Payment Method"}),Object(p.jsx)("th",{children:"Recieved By"}),Object(p.jsx)("th",{children:"Due Payment By"}),Object(p.jsx)("th",{children:"Edit"})]})}),Object(p.jsx)("tbody",{children:e.Member?e.Member.Payment.map((function(t){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:t._id.substr(18,24)}),Object(p.jsx)("td",{children:e.Member.Name}),Object(p.jsx)("td",{children:Object(p.jsx)(Q.a,{date:t.Date})}),Object(p.jsx)("td",{children:t.Total}),Object(p.jsx)("td",{children:t.Paid}),Object(p.jsx)("td",{children:t.Due}),Object(p.jsx)("td",{children:t.Due>0?Object(p.jsx)(l.b,{to:"/PayDue/"+e.Member.Cust_Id+"/"+t._id,className:"btn btn-success",children:"Pay Due"}):null}),Object(p.jsx)("td",{children:t.Comments}),Object(p.jsx)("td",{children:t.PayMethod}),Object(p.jsx)("td",{children:t.RecievedBy}),Object(p.jsx)("td",{children:t.DueDate?Object(p.jsx)(Q.a,{date:t.DueDate}):null}),Object(p.jsx)("td",{children:Object(p.jsx)(l.b,{to:"/edit/"+e.Member.Cust_Id+"/"+t._id,className:"btn btn-warning",children:"Edit"})})]},t._id)})):null})]})};function ce(e){var t={"Content-Type":"application/json",Authorization:e.User.token,branch:e.User.branch},a=window.location.pathname.split("/"),n=a[2],r=a[3],s=Object(c.useState)(),l=Object(i.a)(s,2),o=l[0],j=l[1];return Object(c.useEffect)((function(){x.a.get("/api/member/"+n,{headers:t}).then((function(e){j(e.data)})).catch((function(e){console.log("Error")}))}),[]),o?Object(p.jsxs)("div",{children:[o.url?Object(p.jsx)("div",{className:te.a.picHolder,children:Object(p.jsx)("img",{id:"profilePic",className:te.a.pic,src:o.url})}):null,Object(p.jsx)(N.a,{children:Object(p.jsx)(z,{Member:o,Editable:!1,EditPay:!1})}),"FullView"==r?Object(p.jsx)(ae,{Member:o||null}):null]}):Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(B.a,{variant:"danger",children:"Member Not Found"})})}function ne(e){var t={"Content-Type":"application/json",Authorization:e.User.token,branch:e.User.branch},a=Object(c.useState)(!1),n=Object(i.a)(a,2),r=n[0],s=n[1],l=Object(c.useState)(!1),o=Object(i.a)(l,2),j=o[0],d=o[1],b=Object(c.useState)(0),u=Object(i.a)(b,2),h=(u[0],u[1]),O=Object(c.useState)(""),m=Object(i.a)(O,2),f=m[0],v=m[1],g=window.location.pathname.split("/");g=g[3];var y=Object(c.useState)(),D=Object(i.a)(y,2),w=D[0],T=D[1];if(Object(c.useEffect)((function(){x.a.get("/api/member/"+g,{headers:t}).then((function(e){T(e.data)})).catch((function(e){console.log("Error")}))}),[]),w){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(H,{setUrl:v}),Object(p.jsxs)(N.a,{onSubmit:function(e){e.preventDefault();var a={Cust_Id:e.target[0].value,Name:e.target[1].value,Branch:e.target[2].value,PRN:e.target[3].value,Age:e.target[4].value,Gender:e.target[5].value,Weight:e.target[6].value,Height:e.target[7].value,DOB:e.target[8].value,DOR:e.target[9].value,Address:e.target[10].value,Aadhar:e.target[11].value,DOJ:e.target[12].value,Contact_No:e.target[13].value,Injury:e.target[14].value,Occupation:e.target[15].value,Reference:e.target[16].value,Service:e.target[17].value,Workout_Choice:e.target[18].value,CounselledBy:e.target[19].value,JoinedBy:e.target[20].value,Time:e.target[21].value,url:f};x.a.put("/api/member/"+g,a,{headers:t}).then((function(e){return h(e.data.id)})).then((function(){s(!0)})).catch((function(e){d(!0)}))},children:[Object(p.jsx)(z,{Member:w,User:e.User,EditPay:!1,Editable:!0}),Object(p.jsx)(C.a,{variant:"primary",type:"submit",children:"Submit"})]}),Object(p.jsx)(P,{show:r,redirect:function(){return window.location.href="/member/view"},onClose:function(){s(!1)}}),Object(p.jsx)(E,{show:j,redirect:function(){return d(!1)},onClose:function(){d(!1)}})]})}return Object(p.jsx)("p",{children:"Not Found"})}var re=function(e){var t=Object(c.useState)(!1),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(!1),l=Object(i.a)(s,2),o=l[0],j=l[1],d={"Content-Type":"application/json",Authorization:e.User.token,branch:e.User.branch},b=window.location.pathname.split("/");b=b[3];var u=Object(c.useState)(0),h=Object(i.a)(u,2),O=h[0],m=h[1],f=Object(c.useState)(),v=Object(i.a)(f,2),g=v[0],y=v[1];function D(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(N.a.Label,{children:e.Name}),Object(p.jsx)(N.a.Control,{type:e.Type,defaultValue:g?g[e.field]:null,placeholder:e.placeholder,disabled:!!e.disabled&&e.disabled})]})}function w(){var t=function(e){e.preventDefault(),console.log(e.target.value),m(e.target.value)};return e.Renew?Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)(N.a.Check,{type:"radio",id:"New_Cycle",label:"New Cycle",name:"cycle",value:1,onChange:t,checked:1==O}),Object(p.jsx)(N.a.Check,{type:"radio",label:"Old_Cycle",id:"Old Cycle",name:"cycle",value:0,onChange:t,checked:0==O})]})}):null}return Object(c.useEffect)((function(){x.a.get("/api/member/"+b,{headers:d}).then((function(e){y(e.data)})).catch((function(e){console.log("Error")}))}),[]),Object(p.jsxs)("div",{children:[Object(p.jsxs)(N.a,{onSubmit:function(e){e.preventDefault(),console.log(O);var t=e.target[2].value;if(console.log(g.Valid_Till),0==O)var a=new Date(g.Valid_Till.valueOf());else a=new Date(e.target[4].value.valueOf());var c=e.target[3].value;console.log(c),a=function(e,t){var a=e.getDate();return e.setMonth(e.getMonth()+ +t),e.getDate()!=a&&e.setDate(0),e}(a,t),console.log(a),a=function(e,t){var a=new Date(e).getTime()+864e5*(t-1);return new Date(a)}(a,c),console.log(a);var n={Pay:{Date:e.target[4].value,Total:e.target[5].value,Paid:e.target[6].value,Due:e.target[7].value,Comments:e.target[8].value,PayMethod:e.target[9].value,DueDate:e.target[10].value},Valid_Till:a,BranchName:g.Branch,PayBr:{Date:e.target[4].value,Customer_Name:g.Name,Amount:e.target[6].value,Cust_Id:g.Cust_Id}};console.log(a),x.a.put("/api/member-extend/"+b,n,{headers:d}).then((function(){r(!0)})).catch((function(e){j(!0)}))},children:[Object(p.jsxs)(N.a.Group,{children:[Object(p.jsx)(D,{Name:"Member Id",Type:"string",field:"Cust_Id",disabled:!0,placeholder:"Enter CustId"}),Object(p.jsx)(D,{Name:"Name",Type:"string",field:"Name",disabled:!0,placeholder:"Enter Name"}),Object(p.jsx)(N.a.Label,{className:"Font",children:"Months"}),Object(p.jsx)(N.a.Control,{as:"select",children:Object(M.a)(Array(12)).map((function(e,t){return Object(p.jsx)("option",{value:t+1,children:t+1},t)}))}),Object(p.jsx)(D,{Name:"Days",Type:"number",placeholder:"Enter Days"}),Object(p.jsx)(V,{}),Object(p.jsx)(w,{})]}),Object(p.jsx)(C.a,{variant:"primary",type:"submit",children:"Submit"})]}),Object(p.jsx)(ae,{Member:g||null}),Object(p.jsx)(P,{show:n,redirect:function(){return window.location.href="/member/extend/"+g.Cust_Id},onClose:function(){r(!1)}}),Object(p.jsx)(E,{show:o,redirect:function(){return j(!1)},onClose:function(){j(!1)}})]})};var se=function(e){var t={"Content-Type":"application/json",Authorization:e.User.token,branch:e.User.branch},a=window.location.pathname.split("/"),n=a[2],r=a[3],s=Object(c.useState)(null),l=Object(i.a)(s,2),o=l[0],j=l[1],d=Object(c.useState)(),b=Object(i.a)(d,2),u=b[0],h=b[1],O=Object(c.useState)(1),m=Object(i.a)(O,2),f=m[0],v=m[1],g=Object(c.useState)({}),y=Object(i.a)(g,2),T=(y[0],y[1],Object(c.useState)(!1)),S=Object(i.a)(T,2),_=S[0],I=S[1],M=Object(c.useState)(!1),U=Object(i.a)(M,2),B=U[0],k=U[1];Object(c.useEffect)((function(){x.a.get("/api/member/"+n+"/"+r,{headers:t}).then((function(e){console.log(e.data.Payment),j(e.data.Payment),x.a.get("/api/member/"+n,{headers:t}).then((function(e){h(e.data)})).then((function(){v(0)})).catch((function(e){console.log("Error")}))})).catch((function(e){}))}),[]);var A=function(){var e=Object(w.a)(D.a.mark((function e(a){var c,s;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),c={Date:a.target[2].value,Total:a.target[3].value,Paid:a.target[4].value,Due:a.target[5].value,Comments:a.target[6].value,PayMethod:a.target[7].value,DueDate:a.target[8].value},s={Due:0,Paid:o[0].Total,pay:c,BranchName:u.Branch,PayBr:{Date:a.target[2].value,Customer_Name:u.Name,Amount:a.target[4].value,Cust_Id:u.Cust_Id,PayMethod:a.target[7].value,DueDate:a.target[8].value}},console.log("/api/member/"+n+"/"+r);try{x.a.put("/api/member/"+n+"/"+r,s,{headers:t}).then((function(){I(!0)})).catch((function(e){k(!0)}))}catch(l){alert("Payment failed! ".concat(l.message)),k(!1)}case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function F(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(N.a.Label,{children:e.Name}),Object(p.jsx)(N.a.Control,{type:e.Type,defaultValue:u?u[e.field]:null,placeholder:e.placeholder})]})}return f?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("p",{children:"Loading"})}):(console.log(o[0].Due),Object(p.jsxs)("div",{children:[Object(p.jsxs)(N.a,{onSubmit:A,children:[Object(p.jsxs)(N.a.Group,{children:[Object(p.jsx)(F,{Name:"Member Id",Type:"string",field:"Cust_Id",placeholder:"Enter CustId"}),Object(p.jsx)(F,{Name:"Name",Type:"string",field:"Name",placeholder:"Enter Name"}),Object(p.jsx)(V,{Due:o[0].Due,Comment:o[0]._id})]}),Object(p.jsx)(C.a,{variant:"primary",type:"submit",children:"Submit"})]}),Object(p.jsx)(P,{show:_,redirect:function(){return window.location.href="/member/extend/"+u.Cust_Id},onClose:function(){I(!1)}}),Object(p.jsx)(E,{show:B,redirect:function(){return k(!1)},onClose:function(){k(!1)}})]}))},le=(a(136),a(158),a(83));var ie=function(e){var t={"Content-Type":"application/json",Authorization:e.User.token,branch:e.User.branch},a=0,n=window.location.pathname.split("/");n=n[2];var r=Object(c.useState)([]),s=Object(i.a)(r,2),l=s[0],o=s[1],j=Object(c.useState)([]),d=Object(i.a)(j,2),b=d[0],u=d[1],h=Object(c.useState)(),O=Object(i.a)(h,2),m=O[0],f=O[1],v=Object(c.useState)(),g=Object(i.a)(v,2),y=g[0],D=g[1],w=Object(c.useState)(),T=Object(i.a)(w,2),S=T[0],_=T[1];return Object(c.useEffect)((function(){x.a.get("/api/branch/"+n,{headers:t}).then((function(e){for(var t=0;t<e.data.Payments.length;t++)o((function(a){return[].concat(Object(M.a)(a),[e.data.Payments[t]])})),u((function(a){return[].concat(Object(M.a)(a),[e.data.Payments[t]])}))}))}),[]),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"col",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-md-6",children:Object(p.jsxs)(N.a,{onSubmit:function(e){e.preventDefault();var t=l.filter((function(t){return t.Cust_Id==e.target[0].value}));u(t)},children:[Object(p.jsx)(N.a.Label,{children:"Enter ID"}),Object(p.jsx)(N.a.Control,{type:"text",placholder:"Enter Id of Member"}),Object(p.jsx)(C.a,{className:"p-2 my-2",variant:"primary",type:"submit",children:"Filter"})]})}),Object(p.jsx)("div",{className:"col-md-6",children:Object(p.jsxs)(N.a,{onSubmit:function(e){e.preventDefault(),console.log(m._d,y._d);var t=l.filter((function(e){var t=q()(e.Date,"isoDate"),a=q()(m._d,"isoDate");return t<=q()(y._d,"isoDate")&&t>=a}));u(t)},children:[Object(p.jsx)(N.a.Label,{children:"Enter Date Range"})," ",Object(p.jsx)("br",{}),Object(p.jsx)(le.DateRangePicker,{startDate:m,startDateId:"your_unique_start_date_id",endDate:y,endDateId:"your_unique_end_date_id",onDatesChange:function(e){var t=e.startDate,a=e.endDate;f(t),D(a)},focusedInput:S,onFocusChange:function(e){return _(e)},isOutsideRange:function(){return!1}}),Object(p.jsx)(C.a,{className:"p-2 my-2",variant:"primary",type:"submit",children:"Filter"})]})})]})}),Object(p.jsxs)(U.a,{striped:!0,bordered:!0,hover:!0,children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Id"}),Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Date"}),Object(p.jsx)("th",{children:"Amount"}),Object(p.jsx)("th",{children:"Recieved By"})]})}),Object(p.jsxs)("tbody",{children:[b.map((function(e){return a+=parseInt(e.Amount),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.Cust_Id}),Object(p.jsx)("td",{children:e.Customer_Name}),Object(p.jsx)("td",{children:e.Date?Object(p.jsx)(Q.a,{date:e.Date}):null}),Object(p.jsx)("td",{children:e.Amount}),Object(p.jsx)("td",{children:e.RecievedBy})]},e._id)})),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{children:a})]})]})]})]})};var oe=function(){return Object(p.jsxs)(N.a,{onSubmit:function(e){e.preventDefault(),window.location.href="/member/"+e.target[0].value+"/FullView"},children:[Object(p.jsx)(N.a.Label,{children:"Enter ID"}),Object(p.jsx)(N.a.Control,{type:"text",placholder:"Enter Id of Member"}),Object(p.jsx)(C.a,{className:"p-2 my-2",variant:"primary",type:"submit",children:"Submit"})]})};var je=function(e){return Object(p.jsxs)("div",{className:"row",children:[Object(p.jsxs)("div",{className:"col-6 col-md-6 col-xs-12 ",children:[Object(p.jsx)("h3",{children:"View Sales"}),Object(p.jsxs)(N.a,{onSubmit:function(e){e.preventDefault(),window.location.href="/sales/"+e.target[0].value},children:[Object(p.jsx)(R,{User:e.User}),Object(p.jsx)(C.a,{className:"p-2 my-2",variant:"primary",type:"submit",children:"Submit"})]})]}),Object(p.jsxs)("div",{className:"col-6 col-md-6 col-xs-12 ",children:[Object(p.jsx)("h3",{children:"Update Account"}),Object(p.jsxs)(N.a,{onSubmit:function(e){e.preventDefault(),window.location.href="/profile/"+e.target[0].value},children:[Object(p.jsx)(N.a.Label,{children:"Enter Username"}),Object(p.jsx)(N.a.Control,{type:"text",placholder:"Enter Username of Member"}),Object(p.jsx)(C.a,{className:"p-2 my-2",variant:"primary",type:"submit",children:"Submit"})]})]}),Object(p.jsxs)("div",{className:"col-6 col-md-6 col-xs-12 ",children:[Object(p.jsx)("h3",{children:"Search Member"}),Object(p.jsx)(oe,{})]})]})};var de=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(!1),s=Object(i.a)(r,2),l=s[0],o=s[1],j=function(){var e=Object(w.a)(D.a.mark((function e(t){var a,c;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={username:t.target[0].value,password:t.target[1].value},c="/api/"+("user"==t.target[2].value?"login-user":"admin"==t.target[2].value?"login-admin":"superadmin"==t.target[2].value?"login-super-admin":null),e.prev=3,e.next=6,x.a.post(c,a).then((function(e){console.log(e);var t={token:e.data.token,role:e.data.role,name:e.data.name,branch:e.data.branch};localStorage.setItem("User",JSON.stringify(t)),n(!0),console.log(t)})).catch((function(e){console.log(e),alert("Wrong username or password"),o(!0)}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),alert("Registration failed! ".concat(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}();function d(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(N.a.Label,{children:e.Title}),Object(p.jsx)(N.a.Control,{type:e.Type,placeholder:e.PlaceHolder})]})}return Object(p.jsx)("div",{children:Object(p.jsxs)(N.a,{onSubmit:j,children:[Object(p.jsx)(d,{Title:"Username",Type:"text",Placeholder:"Enter Username"}),Object(p.jsx)(N.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:Object(p.jsx)(d,{Title:"Password",Type:"password",Placeholder:"Enter password"})}),Object(p.jsxs)(N.a.Control,{as:"select",children:[Object(p.jsx)("option",{value:"user",children:"User"}),Object(p.jsx)("option",{value:"superadmin",children:"Super Admin"})]}),Object(p.jsx)(C.a,{variant:"primary",className:"my-3",type:"submit",children:"Submit"}),Object(p.jsx)(P,{show:a,redirect:function(){return window.location.href="/"},onClose:function(){n(!1)}}),Object(p.jsx)(E,{show:l,redirect:function(){return o(!1)},onClose:function(){o(!1)}})]})})},be=a(43);var ue=function(e){var t=Object(c.useState)(!1),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(!1),l=Object(i.a)(s,2),o=l[0],j=l[1],d={"Content-Type":"application/json",Authorization:e.User.token},b=Object(c.useState)({showBranches:!0,createBranch:!1,deleteBranches:!1,AllBranches:!1,showEmployees:!1,createEmployee:!1,deleteEmployees:!1,updateEmployees:!1,createMember:!1,showMembers:!0,updateMembers:!1,deleteMember:!1,extendMember:!1,payDue:!1,editTxn:!1,createPT:!1,showPT:!0,deletePT:!1,updatePT:!1,createAccount:!1}),u=Object(i.a)(b,2),h=u[0],O=u[1],m=function(){var e=Object(w.a)(D.a.mark((function e(t){var a,c;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a={email:t.target[0].value,password:t.target[1].value,name:t.target[2].value,username:t.target[3].value,role:t.target[4].value,permissions:h,branch:t.target[5].value},console.log(a),c="/api/"+("user"==t.target[4].value?"register-user":"superadmin"==t.target[4].value?"register-super-admin":null),x.a.post(c,a,{headers:d}).then((function(e){r(!0)})).catch((function(e){console.log(e),j(!0)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function f(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(N.a.Label,{children:e.Title}),Object(p.jsx)(N.a.Control,{type:e.Type,placeholder:e.PlaceHolder})]})}return Object.entries(h),Object(p.jsxs)(N.a,{onSubmit:m,children:[Object(p.jsxs)(N.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(p.jsx)(f,{Title:"Email",Type:"email",Placeholder:"Enter Email"}),Object(p.jsx)(N.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(p.jsx)(N.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:Object(p.jsx)(f,{Title:"Password",Type:"password",Placeholder:"Enter password"})}),Object(p.jsx)(f,{Title:"Name",Type:"text",Placeholder:"Enter Name"}),Object(p.jsx)(f,{Title:"Username",Type:"text",Placeholder:"Enter Username"}),Object(p.jsx)(N.a.Label,{children:"Role"}),Object(p.jsxs)(N.a.Control,{as:"select",children:[Object(p.jsx)("option",{value:"user",children:"User"}),Object(p.jsx)("option",{value:"superadmin",children:"Super Admin"})]}),Object(p.jsx)(R,{User:e.User})," ",Object(p.jsx)("h6",{className:"my-2",children:"Permissions"}),Object.keys(h).map((function(e){return Object(p.jsx)("div",{className:"",children:Object(p.jsx)("div",{className:"container",children:Object(p.jsx)(N.a.Check,{inline:!0,label:e,name:"group1",type:"checkbox",value:e,checked:h[e],onChange:function(){return function(e){var t;O("updateMembers"==e||"deleteMember"==e||"extendMember"==e||"payDue"==e?Object(T.a)(Object(T.a)({},h),{},(t={},Object(be.a)(t,e,!h[e]),Object(be.a)(t,"showMembers",!!h.showMembers||!h[e]),t)):Object(T.a)(Object(T.a)({},h),{},Object(be.a)({},e,!h[e])))}(e)}})})},e)})),Object(p.jsx)(C.a,{variant:"primary",className:"my-3",type:"submit",children:"Submit"}),Object(p.jsx)(P,{show:n,redirect:function(){return window.location.href="/"},onClose:function(){r(!1)}}),Object(p.jsx)(E,{show:o,redirect:function(){return j(!1)},onClose:function(){j(!1)}})]})};var he=function(){var e=localStorage.getItem("User");return e=JSON.parse(e),Object(p.jsxs)("div",{children:["Welcome ",e?e.name:null,Object(p.jsx)("h3",{children:"Search Member"}),Object(p.jsx)(oe,{})]})};var Oe=function(e){function t(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(N.a.Label,{children:e.Title}),Object(p.jsx)(N.a.Control,{type:e.Type,defaultValue:e.Val?e.Val:null,placeholder:e.PlaceHolder,disabled:!!e.EditF&&e.EditF})]})}return Object(p.jsxs)(N.a,{onSubmit:e.onSubmit,children:[Object(p.jsx)(t,{Title:"Name",Type:"text",Val:e.Member?e.Member.Name:null,Placeholder:"Enter Name"}),Object(p.jsx)(t,{Title:"Customer ID",Type:"text",Val:e.Member?e.Member.Cust_Id:null,Placeholder:"Enter ID"}),e.Member?Object(p.jsx)(t,{Title:"Branch",Type:"text",Val:e.Member?e.Member.Branch:null,EditF:!0,Placeholder:"Enter Branch"}):Object(p.jsx)(R,{User:e.User}),Object(p.jsx)(t,{Title:"Trainer",Type:"text",Val:e.Member?e.Member.Trainer:null,Placeholder:"Enter Trainer Name"}),Object(p.jsx)(t,{Title:"Start Date",Type:"date",Val:e.Member?e.Member.StartDate:null,Placeholder:"Enter Date"}),Object(p.jsx)(t,{Title:"End Date",Type:"date",Val:e.Member?e.Member.EndDate:null,Placeholder:"Enter Date"}),Object(p.jsx)(t,{Title:"Fees",Type:"number",Val:e.Member?e.Member.Fees:null,Placeholder:"Enter Fees"}),Object(p.jsx)(C.a,{variant:"primary",className:"my-3",type:"submit",children:"Submit"})]})};var me=function(e){var t=Object(c.useState)(!1),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(!1),l=Object(i.a)(s,2),o=l[0],j=l[1],d={"Content-Type":"application/json",Authorization:e.User.token,branch:e.User.branch},b=function(){var e=Object(w.a)(D.a.mark((function e(t){var a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={Name:t.target[0].value,Cust_Id:t.target[1].value,Branch:t.target[2].value,Trainer:t.target[3].value,StartDate:t.target[4].value,EndDate:t.target[5].value,Fees:t.target[6].value},"/api/PT",e.prev=3,e.next=6,x.a.post("/api/PT",a,{headers:d}).then((function(e){console.log(e),r(!0)})).catch((function(e){console.log(e),j(!0)}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),alert("Entry failed! ".concat(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{children:[Object(p.jsx)(Oe,{User:e.User,onSubmit:b}),Object(p.jsx)(P,{show:n,redirect:function(){return window.location.href="/PT/view"},onClose:function(){r(!1)}}),Object(p.jsx)(E,{show:o,redirect:function(){return j(!1)},onClose:function(){j(!1)}})]})};function xe(e){var t=Object(c.useState)([]),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(!1),o=Object(i.a)(s,2),j=o[0],d=o[1],b=Object(c.useState)(!1),u=Object(i.a)(b,2),h=u[0],O=u[1],m=Object(c.useState)(!1),f=Object(i.a)(m,2),v=f[0],g=f[1],y=Object(c.useState)(""),D=Object(i.a)(y,2),w=D[0],N=D[1],T={"Content-Type":"application/json",Authorization:e.User.token,branch:"user"==e.User.role?e.User.branch:null};return Object(c.useEffect)((function(){x.a.get("/api/PT/",{headers:T}).then((function(e){r(e.data)}))}),[]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(U.a,{striped:!0,bordered:!0,hover:!0,children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Id"}),Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Branch"}),Object(p.jsx)("th",{children:"Start Date"}),Object(p.jsx)("th",{children:"End Date"}),Object(p.jsx)("th",{children:"Trainer"}),Object(p.jsx)("th",{children:"Fees"}),Object(p.jsx)("th",{children:"Update"}),Object(p.jsx)("th",{children:"Delete"})]})}),Object(p.jsx)("tbody",{children:n.map((function(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.Cust_Id}),Object(p.jsx)("td",{children:e.Name}),Object(p.jsx)("td",{children:e.Branch}),Object(p.jsx)("td",{children:Object(p.jsx)(Q.a,{date:e.StartDate})}),Object(p.jsx)("td",{children:Object(p.jsx)(Q.a,{date:e.EndDate})}),Object(p.jsx)("td",{children:e.Trainer}),Object(p.jsx)("td",{children:e.Fees}),Object(p.jsxs)("td",{children:[" ",Object(p.jsx)(l.b,{to:"/PT/update/"+e.Cust_Id,className:"btn btn-info",children:"Update"})]}),Object(p.jsx)("td",{children:Object(p.jsx)(C.a,{variant:"danger",onClick:function(){d(!0),N(e.Cust_Id)},children:"Delete"})})]},e.Cust_Id)}))})]}),Object(p.jsx)(A,{show:j,reqDelete:function(){x.a.delete("/api/PT/"+w,{headers:T}).then((function(){O(!0)})).catch((function(e){console.log(e),g(!0)}))},onClose:function(){d(!1)}}),Object(p.jsx)(P,{show:h,redirect:function(){return window.location.href="/PT/view"},onClose:function(){O(!1)}}),Object(p.jsx)(E,{show:v,redirect:function(){return g(!1)},onClose:function(){g(!1)}})]})}function pe(e){var t=Object(c.useState)(0),a=Object(i.a)(t,2),n=(a[0],a[1]),r=Object(c.useState)(!1),s=Object(i.a)(r,2),l=s[0],o=s[1],j=Object(c.useState)(!1),d=Object(i.a)(j,2),b=d[0],u=d[1],h=window.location.pathname.split("/");h=h[3];var O={"Content-Type":"application/json",Authorization:e.User.token,branch:e.User.branch},m=Object(c.useState)(),f=Object(i.a)(m,2),v=f[0],g=f[1];if(Object(c.useEffect)((function(){x.a.get("/api/PT/"+h,{headers:O}).then((function(e){g(e.data)})).catch((function(e){console.log("Error")}))}),[]),v){var y=function(){var e=Object(w.a)(D.a.mark((function e(t){var a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a={Name:t.target[0].value,Cust_Id:t.target[1].value,Branch:t.target[2].value,Trainer:t.target[3].value,StartDate:t.target[4].value,EndDate:t.target[5].value,Fees:t.target[6].value},console.log(a);try{x.a.put("/api/PT/"+h,a,{headers:O}).then((function(e){return n(e.data.id)})).then((function(e){console.log(e),o(!0)})).catch((function(e){console.log(e),u(!0)}))}catch(c){alert("Entry failed! ".concat(c.message)),u(!0)}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Oe,{User:e.User,Member:v,onSubmit:y}),Object(p.jsx)(P,{show:l,redirect:function(){return window.location.href="/PT/view"},onClose:function(){o(!1)}}),Object(p.jsx)(E,{show:b,redirect:function(){return u(!1)},onClose:function(){u(!1)}})]})}return Object(p.jsx)("p",{children:"Not Found"})}var fe=function(e){var t=Object(c.useState)(!1),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(!1),l=Object(i.a)(s,2),o=l[0],j=l[1],d={"Content-Type":"application/json",Authorization:e.User.token},b=window.location.pathname.split("/");b=b[2];var u=Object(c.useState)(),h=Object(i.a)(u,2),O=h[0],m=h[1];Object(c.useEffect)((function(){x.a.get("/api/userprofile/"+b,{headers:d}).then((function(e){console.log(e),m(e.data)})).catch((function(e){console.log(e)}))}),[]);var f=Object(c.useState)({showBranches:!0,createBranch:!1,deleteBranches:!1,showBranchTransaction:!1,AllBranches:!1,showEmployees:!1,createEmployee:!1,deleteEmployees:!1,updateEmployees:!1,createMember:!1,showMembers:!0,updateMembers:!1,deleteMember:!1,extendMember:!1,payDue:!1,editTxn:!1,createPT:!1,showPT:!0,deletePT:!1,updatePT:!1,createAccount:!1}),v=Object(i.a)(f,2),g=v[0],y=v[1],S=function(){var e=Object(w.a)(D.a.mark((function e(t){var a,c;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a={email:t.target[0].value,name:t.target[1].value,username:t.target[2].value,permissions:g,branch:t.target[3].value},console.log(a),c="/api/update-user/"+b,x.a.put(c,a,{headers:d}).then((function(e){r(!0),console.log(e)})).catch((function(e){j(!0),console.log(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function _(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(N.a.Label,{children:e.Title}),Object(p.jsx)(N.a.Control,{type:e.Type,placeholder:e.PlaceHolder,defaultValue:O?O[e.field]:null})]})}return Object.entries(g),Object(p.jsxs)(N.a,{onSubmit:S,children:[Object(p.jsxs)(N.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(p.jsx)(_,{Title:"Email",Type:"email",Placeholder:"Enter Email",field:"email"}),Object(p.jsx)(N.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(p.jsx)(_,{Title:"Name",Type:"text",Placeholder:"Enter Name",field:"name"}),Object(p.jsx)(_,{Title:"Username",Type:"text",Placeholder:"Enter Username",field:"username"}),Object(p.jsx)(R,{User:e.User,user:O}),Object(p.jsx)("h6",{className:"my-2",children:"Permissions"}),Object.keys(g).map((function(e){return Object(p.jsx)("div",{className:"",children:Object(p.jsx)("div",{className:"container",children:Object(p.jsx)(N.a.Check,{inline:!0,label:e,name:"group1",type:"checkbox",value:e,checked:g[e],onChange:function(){return function(e){var t;if("payDue"==e||"extendMember"==e||"createMember"==e)y(Object(T.a)(Object(T.a)({},g),{},(t={},Object(be.a)(t,e,!g[e]),Object(be.a)(t,"AddBranchPayment",!!g.AddBranchPayment||!g[e]),t)));else if("updateMembers"==e||"deleteMember"==e||"extendMember"==e||"payDue"==e){var a;y(Object(T.a)(Object(T.a)({},g),{},(a={},Object(be.a)(a,e,!g[e]),Object(be.a)(a,"showMembers",!!g.showMembers||!g[e]),a)))}else y(Object(T.a)(Object(T.a)({},g),{},Object(be.a)({},e,!g[e])))}(e)}})})},e)})),Object(p.jsx)(C.a,{variant:"primary",className:"my-3",type:"submit",children:"Submit"}),Object(p.jsx)(P,{show:n,redirect:function(){return window.location.href="/"},onClose:function(){r(!1)}}),Object(p.jsx)(E,{show:o,redirect:function(){return j(!1)},onClose:function(){j(!1)}})]})},ve=a(372);function ge(e){var t=Object(c.useState)([]),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)([]),l=Object(i.a)(s,2),o=l[0],j=l[1],d=Object(c.useState)([]),b=Object(i.a)(d,2),u=(b[0],b[1],Object(c.useState)()),h=Object(i.a)(u,2),O=(h[0],h[1],Object(c.useState)(!1)),m=Object(i.a)(O,2),f=m[0],v=m[1],g=Object(c.useState)(!1),y=Object(i.a)(g,2),D=(y[0],y[1],Object(c.useState)("")),w=Object(i.a)(D,2),T=w[0],S=(w[1],Object(c.useState)(0)),_=Object(i.a)(S,2),P=_[0],E=_[1],I=Object(c.useState)(),B=Object(i.a)(I,2),k=B[0],F=B[1],L=Object(c.useState)(),V=Object(i.a)(L,2),z=V[0],J=V[1],G=Object(c.useState)(),H=Object(i.a)(G,2),W=H[0],Z=H[1],Y={"Content-Type":"application/json",Authorization:e.User.token,branch:e.User.branch};return Object(c.useEffect)((function(){!function(){var e={date:Date.now()};x.a.put("/api/validateUp/",e).then((function(){console.log("Successfully Validated")})).then((function(){x.a.put("/api/validateDown/",e).then((function(){console.log("Done")})),x.a.get("/api/member/",{headers:Y}).then((function(e){for(var t=0;t<e.data.length;t++)r((function(a){return[].concat(Object(M.a)(a),[e.data[t]])})),j((function(a){return[].concat(Object(M.a)(a),[e.data[t]])}))}))}))}()}),[]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"text-center",children:[Object(p.jsx)("h3",{children:"View Reports"}),Object(p.jsx)(N.a,{onSubmit:function(e){e.preventDefault(),console.log(P)},children:Object(p.jsxs)(ve.a,{"aria-label":"Basic example",children:[Object(p.jsx)(C.a,{variant:"secondary",type:"submit",onClick:function(){return E(0)},children:"Validity"}),Object(p.jsx)(C.a,{variant:"secondary",type:"submit",onClick:function(){return E(1)},children:"Due Payment"})]})})]}),0==P?Object(p.jsxs)("div",{children:[Object(p.jsxs)(N.a,{onSubmit:function(e){e.preventDefault(),console.log(k._d,z._d);var t=n.filter((function(e){var t=q()(e.Valid_Till,"isoDate"),a=q()(k._d,"isoDate");return t<=q()(z._d,"isoDate")&&t>=a}));j(t)},children:[Object(p.jsx)(le.DateRangePicker,{startDate:k,startDateId:"your_unique_start_date_id",endDate:z,endDateId:"your_unique_end_date_id",onDatesChange:function(e){var t=e.startDate,a=e.endDate;j(n),F(t),J(a)},focusedInput:W,onFocusChange:function(e){return Z(e)},isOutsideRange:function(){return!1}}),Object(p.jsx)(C.a,{className:"p-2 my-2",variant:"primary",type:"submit",children:"Filter"})]}),Object(p.jsxs)(N.a,{onSubmit:function(e){e.preventDefault(),console.log(e.target[0].value);var t=o.filter((function(t){return t.Branch==e.target[0].value}));j(t)},children:[Object(p.jsx)(R,{User:e.User}),Object(p.jsx)(C.a,{className:"p-2 my-2",variant:"primary",type:"submit",children:"Filter"})]}),Object(p.jsxs)(U.a,{striped:!0,bordered:!0,hover:!0,children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Id"}),Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Valid Till"})]})}),Object(p.jsx)("tbody",{children:o.map((function(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.Cust_Id}),Object(p.jsx)("td",{children:e.Name}),Object(p.jsxs)("td",{children:[e.Active?Object(p.jsx)(Q.a,{date:e.Valid_Till}):Object(p.jsxs)("p",{className:"text-danger font-weight-bold",children:["Expired on ",Object(p.jsx)(Q.a,{date:e.Valid_Till})]})," "]})]},e.Cust_Id)}))})]})]}):Object(p.jsxs)("div",{children:[Object(p.jsxs)(N.a,{onSubmit:function(e){e.preventDefault(),console.log(k._d,z._d);var t=n.filter((function(e){var t=q()(e.Payment[e.Payment.length-1].DueDate,"isoDate");console.log(t);var a=q()(k._d,"isoDate");return t<=q()(z._d,"isoDate")&&t>=a}));j(t)},children:[Object(p.jsx)(le.DateRangePicker,{startDate:k,startDateId:"your_unique_start_date_id",endDate:z,endDateId:"your_unique_end_date_id",onDatesChange:function(e){var t=e.startDate,a=e.endDate;j(n),F(t),J(a)},focusedInput:W,onFocusChange:function(e){return Z(e)},isOutsideRange:function(){return!1}}),Object(p.jsx)(C.a,{className:"p-2 my-2",variant:"primary",type:"submit",children:"Filter"})]}),Object(p.jsxs)(N.a,{onSubmit:function(e){e.preventDefault(),console.log(e.target[0].value);var t=o.filter((function(t){return t.Branch==e.target[0].value}));j(t)},children:[Object(p.jsx)(R,{User:e.User}),Object(p.jsx)(C.a,{className:"p-2 my-2",variant:"primary",type:"submit",children:"Filter"})]}),Object(p.jsxs)(U.a,{striped:!0,bordered:!0,hover:!0,children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Id"}),Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Total Due"}),Object(p.jsx)("th",{children:"Pay Due By"})]})}),Object(p.jsxs)("tbody",{children:[o.map((function(e){var t,a=0;e.Payment[e.Payment.length-1].DueDate&&(t=e.Payment[e.Payment.length-1].DueDate);for(var c=0;c<e.Payment.length;c++){var n=e.Payment[c].Due;a+=parseFloat(n)}return 0==a?null:Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.Cust_Id}),Object(p.jsx)("td",{children:e.Name}),Object(p.jsx)("td",{children:a}),Object(p.jsx)("td",{children:t?Object(p.jsx)(Q.a,{date:t}):null})]},e.Cust_Id)})),Object(p.jsx)(A,{show:f,reqDelete:function(){x.a.delete("http://localhost:3000/api/member/"+T,{headers:Y}).then((function(){alert("Deleted Member"),window.location.href="/member/view"})).catch((function(e){console.log(e)}))},onClose:function(){v(!1)}})]})]})]})]})}var ye=function(e){var t=Object(c.useState)(!1),a=Object(i.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(!1),l=Object(i.a)(s,2),o=l[0],j=l[1],d={"Content-Type":"application/json",Authorization:e.User.token,branch:e.User.branch},b=window.location.pathname.split("/"),u=b[2],h=b[3];console.log(u,h);var O=Object(c.useState)(),m=Object(i.a)(O,2),f=m[0],v=m[1],g=Object(c.useState)({}),y=Object(i.a)(g,2),D=y[0],w=y[1];return Object(c.useEffect)((function(){x.a.get("/api/member/"+u,{headers:d}).then((function(e){v(e.data)})).catch((function(e){console.log("Error")})),x.a.get("/api/member-txn/"+u+"/"+h,{headers:d}).then((function(e){console.log(e.data),w(e.data)})).catch((function(e){console.log("error")}))}),[]),Object(p.jsxs)("div",{children:[Object(p.jsxs)(N.a,{onSubmit:function(e){e.preventDefault();var t={Date:e.target[0].value,Total:e.target[1].value,Paid:e.target[2].value,Due:e.target[3].value,Comments:e.target[4].value,PayMethod:e.target[5].value,BranchName:f.Branch,Customer_Name:f.Name,Amount:e.target[2].value,Cust_Id:f.Cust_Id,DueDate:e.target[6].value};console.log(t),x.a.put("/api/member-txn/"+u+"/"+h,t,{headers:d}).then((function(){r(!0)})).catch((function(e){j(!0)}))},children:[Object(p.jsx)(N.a.Group,{children:Object(p.jsx)(V,{Member:f,txn:D,headers:d})}),Object(p.jsx)(C.a,{variant:"primary",type:"submit",children:"Submit"})]}),Object(p.jsx)(P,{show:n,redirect:function(){return window.location.href="/member/extend/"+f.Cust_Id},onClose:function(){r(!1)}}),Object(p.jsx)(E,{show:o,redirect:function(){return j(!1)},onClose:function(){j(!1)}})]})};var De=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),a=t[0],n=t[1],r=localStorage.getItem("User");return r=JSON.parse(r),Object(c.useEffect)((function(){!function(){if(null!=r){var e={"Content-Type":"application/json",Authorization:r.token},t=r.role;x.a.get("/api/"+t+"-protectd",{headers:e}).then((function(e){200==e.status?n(t):n(!1)})).catch((function(e){console.log(e)}))}}()}),[]),Object(p.jsx)("div",{className:"container my-2 p-2",children:r?Object(p.jsxs)(g.c,{children:[Object(p.jsx)(g.a,{exact:!0,path:"/",children:"superadmin"===a?Object(p.jsx)(je,{User:r}):"admin"==a||"user"==a?Object(p.jsx)(he,{}):Object(p.jsx)(k,{})}),Object(p.jsx)(g.a,{exact:!0,path:"/login",component:de}),Object(p.jsx)(g.a,{exact:!0,path:"/PT/add",children:Object(p.jsx)(me,{User:r})}),Object(p.jsxs)(g.a,{exact:!0,path:"/PT/view",children:[Object(p.jsx)(xe,{User:r})," "]}),Object(p.jsxs)(g.a,{exact:!0,path:"/PT/update/:id",children:[Object(p.jsx)(pe,{User:r})," "]}),Object(p.jsx)(g.a,{exact:!0,path:"/register",children:Object(p.jsx)(ue,{User:r})}),Object(p.jsx)(g.a,{exact:!0,path:"/profile/:username",children:Object(p.jsx)(fe,{User:r})}),Object(p.jsxs)(g.a,{exact:!0,path:"/branches/show",children:[" ",Object(p.jsx)(F,{User:r})," "]}),Object(p.jsxs)(g.a,{exact:!0,path:"/branches/add",children:[" ",Object(p.jsx)(I,{User:r})," "]}),Object(p.jsx)(g.a,{exact:!0,path:"/staff/view",children:Object(p.jsx)($,{User:r})}),Object(p.jsx)(g.a,{exact:!0,path:"/staff/add",children:Object(p.jsx)(K,{User:r})}),Object(p.jsx)(g.a,{exact:!0,path:"/member/view",children:Object(p.jsx)(X,{User:r})}),Object(p.jsx)(g.a,{exact:!0,path:"/member/reports",children:Object(p.jsx)(ge,{User:r})}),Object(p.jsx)(g.a,{exact:!0,path:"/member/add",children:Object(p.jsx)(W,{User:r})}),Object(p.jsx)(g.a,{exact:!0,path:"/member/:id",children:Object(p.jsx)(ce,{User:r})}),Object(p.jsx)(g.a,{exact:!0,path:"/member/:id/FullView",children:Object(p.jsx)(ce,{User:r})}),Object(p.jsx)(g.a,{exact:!0,path:"/sales/:name",children:Object(p.jsx)(ie,{User:r})}),Object(p.jsx)(g.a,{exact:!0,path:"/member/update/:id",children:Object(p.jsx)(ne,{User:r})}),Object(p.jsx)(g.a,{exact:!0,path:"/member/extend/:id",children:Object(p.jsx)(re,{User:r})}),Object(p.jsx)(g.a,{exact:!0,path:"/test",children:Object(p.jsx)(H,{User:r})}),Object(p.jsx)(g.a,{exact:!0,path:"/member/extend/:id/Renew",children:Object(p.jsx)(re,{Renew:!0,User:r})}),Object(p.jsx)(g.a,{exact:!0,path:"/PayDue/:id/:txid",children:Object(p.jsx)(se,{User:r})}),Object(p.jsx)(g.a,{exact:!0,path:"/Edit/:id/:txid",children:Object(p.jsx)(ye,{User:r})})]}):Object(p.jsx)(de,{})})};var we=function(){return Object(p.jsx)("div",{className:"App",children:Object(p.jsxs)(l.a,{children:[Object(p.jsx)(f,{}),Object(p.jsx)(De,{}),Object(p.jsx)(v,{})]})})},Ne=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,378)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))};s.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(we,{})}),document.getElementById("root")),Ne()},52:function(e,t,a){e.exports={Text:"styles_Text__2xGJ5",Drop:"styles_Drop__y4g1Q"}}},[[364,1,2]]]);
//# sourceMappingURL=main.84546e2a.chunk.js.map